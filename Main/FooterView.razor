<style>
    .nav-stacked li {
        display: block;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        font-family: 'Nunito Sans', sans-serif;
        color: @SiteInfo.TextColor;
        font-weight: 300;
        font-size: 1.6rem;
        list-style: none;
        box-sizing: border-box;
        position: relative;
        display: block;
        float: none;
        line-height: 2rem;
    }

    .nav-pills.nav-stacked:not(.list-style-icons) > li > a:after {
        font-family: "FontAwesome";
        content: "\f101";
        font-size: 12px;
        position: absolute;
        right: 0px;
        margin-left: 40px;
        top: 4px;
        left: 40px;
        color: #d1d1d1;
        -webkit-transition: all 0.2s ease-in-out;
        -o-transition: all 0.2s ease-in-out;
        transition: all 0.2s ease-in-out;
        display: none;
    }

    .nav-stacked li a {
        display: inline-flex;
        font-weight: bold;
        color: @SiteInfo.TextColor;
    }

    nav .nav-stacked {
        display: block;
        color: @SiteInfo.TextColor;
    }
</style>
<footer id="footer" class="clearfix ">

    <!-- .footer start -->
    <!-- ================ -->

    <div class="footer">
        <div class="container">
            <div class="footer-inner">
                <div class="row">
                    <div class="col-md-3">
                        <div class="footer-content">
                            <div class="logo-footer">
                                <div>
                                    <img width="30" height="30" src="/img/codericon.svg"
                                         href="~/img/codericon.svg" />

                                </div>

                            </div>
                            <p>
                                Find all the latest Christian songs, from different genre like praises and hymnal christian songs. (Col. 3:1, Eph. 5:19)
                           
                            </p>
                            <p style="color:@SiteInfo.AccentColor;">
                                NOTE: DO NOT USE DISCO LIGHTS DURING SINGING A WORSHIP SONG IN CHURCHES &amp; REVIEW LYRICS ALWAYS.
                            </p>

                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="footer-content">
                            <h2 style="color:@SiteInfo.TextColor;" class="title">Learn more</h2>
                            <div class="separator-2"></div>
                            <nav>
                                <ul style="display:block;" class="nav nav-pills nav-stacked">

                                    <li>
                                        <a class="nav_a" @onclick="(()=>{ChristianSongs.Blazor.Shared.MainLayout.Current.NavigateToAbout();})">About</a>
                                    </li>

                                    <li>
                                        <a target="_blank"
                                           href="mailto:mailto:studioappsupporfeedback2000@outlook.com">Contact Email</a>
                                    </li>
                                    <li>
                                        <a @onclick="(()=>{ChristianSongs.Blazor.Shared.MainLayout.Current.ShowPrivacy();})">Privacy</a>
                                    </li>

                                </ul>

                            </nav>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="footer-content">
                            <h2 style="color:@SiteInfo.TextColor;" class="title">On this site</h2>
                            <div class="separator-2"></div>
                            <nav>
                                <ul style="display:block;" class="nav nav-pills nav-stacked">
                                    <li><a href="/">Home</a></li>
                                    <li><a href="https://www.buymeacoffee.com/nextsupportlab" target="_blank">Donate</a></li>
                                   
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="footer-content">
                            <h2 style="color:@SiteInfo.TextColor;" class="title">Popular categories</h2>
                            <div class="separator-2"></div>
                            <div class="tags-cloud">
                                @foreach (var item in categoriesFinal)
                                {
                                    <div style="cursor:pointer;" class="tag">
                                        <style>
                                            .tag_a:hover {
                                                color: black;
                                            }
                                        </style>
                                        <a class="tag_a" style="color:tan;">@item.ToString().ToLower()</a>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- .footer end -->
    <!-- .subfooter start -->
    <!-- ================ -->
    <div class="subfooter dark-bg">
        <div class="container">
            <div class="subfooter-inner">
                <div class="row">
                    <div class="col-md-12">
                        <p class="text-center" style="color:gray;">
                            Copyright &copy; @DateTime.Now.Year @SiteInfo.SiteName by <a class="link-light"
                                                                                         href="@SiteInfo.SiteFullUrl">coderbasket.com</a>. All
                            Rights Reserved
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- .subfooter end -->
</footer>

@code {
    List<Category> categoriesFinal = new List<Category>();
    protected override void OnInitialized()
    {
        base.OnInitialized();
        DataServiceProvider.ItemsLoaded += (s, e) =>
       {
           RenderItems();
       };
        RenderItems();
    }
    bool rendering = false;
    async void RenderItems()
    {
        if (DataServiceProvider.ItemHasLoaded == false)
            return;
        if (rendering)
            return;
        rendering = true;
        var _snippets = await DataServiceProvider.GetItemsAsync();
        if (_snippets?.Count > 0)
        {
            var categories = _snippets.Select(x => x.Categories).SelectMany(i => i);
            var groupedSorted = categories.GroupBy(n => n).OrderByDescending(g => g.Count());
            categoriesFinal = groupedSorted.Take(10).Select(x => x.FirstOrDefault()).ToList();
            StateHasChanged();
        }
        rendering = false;
    }

}
